<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cart | Nasy Luxe Hair</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body{margin:0;font-family:Segoe UI;background:#f6f6f6}
.cart-container{
  max-width:900px;margin:40px auto;background:#fff;
  border-radius:20px;padding:30px;
  box-shadow:0 20px 40px rgba(0,0,0,.08)
}
.cart-item{
  display:flex;align-items:center;
  justify-content:space-between;
  margin-bottom:20px;border-bottom:1px solid #eee;padding-bottom:15px
}
.cart-item img{width:90px;border-radius:12px}
.qty button{
  background:#d4af37;color:#fff;
  border:none;width:30px;height:30px;border-radius:50%
}
.checkout{
  background:#25d366;color:#fff;
  padding:15px;border:none;border-radius:30px;
  font-size:16px;width:100%;margin-top:20px
}
</style>
</head>

<body>

<div class="cart-container">
<h2>Your Cart</h2>
<div id="cartItems"></div>
<h3>Total: R<span id="total">0</span></h3>
<button class="checkout" onclick="checkoutWhatsApp()">Checkout via WhatsApp</button>
</div>

<script>
let cart=JSON.parse(localStorage.getItem('cart'))||[];

function render(){
let c=document.getElementById("cartItems");
let t=0;
c.innerHTML="";
cart.forEach((i,idx)=>{
t+=i.price*i.qty;
c.innerHTML+=`
<div class="cart-item">
<img src="${i.image}">
<div>${i.name}<br>R${i.price} × ${i.qty}</div>
<div class="qty">
<button onclick="change(${idx},-1)">−</button>
<button onclick="change(${idx},1)">+</button>
</div>
</div>`;
});
document.getElementById("total").innerText=t;
}
render();

function change(i,a){
cart[i].qty+=a;
if(cart[i].qty<=0)cart.splice(i,1);
localStorage.setItem('cart',JSON.stringify(cart));
render();
}

function checkoutWhatsApp(){
let msg="Hello Nasy Luxe Hair,%0A%0AI would like to order:%0A";
let total=0;
cart.forEach(i=>{
msg+=`- ${i.name} × ${i.qty} (R${i.price})%0A`;
total+=i.price*i.qty;
});
msg+=`%0ATotal: R${total}`;
window.open("https://wa.me/27671912088?text="+msg);
}
</script>

</body>
</html>
